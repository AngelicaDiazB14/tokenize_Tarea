let(
   declaration(
   [const(
   name("shift"),
   value(
      op(
   -,
   call("ord",params([char(97)])),
   call("ord",params([char(65)]))
)
   )
),
   var(name("i"),typeName("integer")),
   func(
   name("capital"),
   params([var(name("chr"),typeName("Char"))]),
   type(typeName("Boolean")),
   result(
      op(
   /\\,
   op(
   <=,
   call("ord",params([char(65)])),
   call("ord",params([ref(["ch"])]))
),
   op(
   <=,
   call("ord",params([ref(["ch"])])),
   call("ord",params([char(90)]))
)
)
   )
)]
),
   command(
   [assign(["a"], op(
   +,
   ref(["a"]),
   num(1)
)),
   ifCmd(
   cond(call("capital",params([ref(["current"])]))),
   then(
      call("chr",params([op(
   +,
   call("ord",params([ref(["current"])])),
   ref(["shift"])
)]))
   ),
   else(assign(["current"], num(3)))
)]
)
)
